<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<error-handler name="VALIDATION_RECIPE" doc:id="1dc8ecae-8952-4996-acd4-e4606c03f844" >
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="a289c578-46f8-4dbc-b332-41357987a186" type="APP:COCTAILNAMENOTNULL" >
			<ee:transform doc:name="Transform Message" doc:id="02f691fd-a386-4d63-9f77-56b75447aaba" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
	message: "Please write name of cocktail "
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[400]" doc:name="httpStatus" doc:id="34ec666c-7f3d-411e-92f7-7200b6997c80" variableName="httpStatus" />
		</on-error-propagate>
	</error-handler>
	<error-handler name="CategoryNull" doc:id="39cfd77d-567a-4e1f-9bd2-d915f1b507a2" >
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="019e035f-8e5e-43af-a1ca-8e50c295d81f" type="APP:FOODCATEGORYNULL" >
			<ee:transform doc:name="byCategories" doc:id="d49c7660-eff7-469f-8d59-7756ed0956e2" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
	message: "Invalid data. Add some categories"
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[400]" doc:name="httpStatus" doc:id="161ebd76-6368-4f93-802f-3111dba581bb" variableName="httpStatus" />
		</on-error-propagate>
	</error-handler>
	<error-handler name="VALIDATION_DAYLIMENU" doc:id="4377e9c7-fe56-4ff6-b97a-bd18f110e51b" >
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="55bcd4f4-eb94-4f9f-9d84-7d714c24a31c" type="APP:DAYNOTNULL" >
			<ee:transform doc:name="day" doc:id="6f9e4f62-a248-49eb-aead-0fc55f083720" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
	message: " Hi, if you want daily menu please write some day"
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[400]" doc:name="httpStatus" doc:id="737b35cf-e49e-4c43-8a4b-b8a2c21995d3" variableName="httpStatus" />
		</on-error-propagate>
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="ba06eafd-09b8-49ac-bfb9-81b23b7e38e0" type="APP:PAYLOADNOTNULL">
			<ee:transform doc:name="payloadDailyMenu" doc:id="48471997-7872-44e8-9366-9a4f366b17a0">
				<ee:message>
					<ee:set-payload><![CDATA[%dw 2.0
output application/json
---
{
	message:"Something wrong with host"
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[404]" doc:name="httpStatus" doc:id="b4310c1f-21f6-45de-a69b-c3558e2f6c88" variableName="httpStatus" />
		</on-error-propagate>

	
</error-handler>
	<error-handler name="addFoodCategory" doc:id="24920fc8-87b4-40f7-b149-a444df7c03a7" >
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="9fb127f7-0a73-4ee8-89c1-6a21ed0054e9" type="APP:ADDCATEGORY" >
			<ee:transform doc:name="byCategories" doc:id="d27e246a-c922-4489-a505-b2b76b9424ff" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
	message: "Add some categories"
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[400]" doc:name="httpStatus" doc:id="165872b9-830c-47a6-bcae-d28654c1f074" variableName="httpStatus" />
		</on-error-propagate>
	</error-handler>
	<error-handler name="VALIDATION_FIVE_CATEGORY" doc:id="2790ae63-1249-4ff8-b41a-ed3c61d1a201">
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="1ff6b52b-afe1-47e2-b998-729b2fa78754" type="APP:CATEGORYNULL">
			<ee:transform doc:name="category" doc:id="d48c3361-b30a-4552-af8f-20dea1f19d02">
				<ee:message>
					<ee:set-payload><![CDATA[%dw 2.0
output application/json
---
{
	message: "Invalid category"
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[404]" doc:name="httpStatus" doc:id="d676d276-0370-439c-ac86-f3f541a456d4" variableName="httpStatus" />
		</on-error-propagate>
	</error-handler>
	<error-handler name="VALIDATION_RANDOM_FLOW_ARRAY" doc:id="f7e88bf5-6905-460a-92f0-d8e86d98c721">
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="fe46d9ed-776a-45e4-8f92-34eb6a54ce35" type="APP:PAYLOADSIZE">
			<ee:transform doc:name="sizeOfArray" doc:id="af862a7a-9b34-4ebc-a157-6c690cb85f44">
				<ee:message>
					<ee:set-payload><![CDATA[%dw 2.0
output application/json
---
{
	message: "Not valid size of array"
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[404]" doc:name="httpStatus" doc:id="0826a612-bbdc-4ab4-9ff6-42bbe3225dfb" variableName="httpStatus" />
		</on-error-propagate>
	</error-handler>
	<error-handler name="VALIDATION_SEARCH_INGRIDIENT" doc:id="bb4cd9ed-e40e-46a0-b446-af6a002814f5">
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="e983eccb-b048-4ab2-bbde-cf6d48ad44fd" type="APP:INGREDIENTNOTNULL">
			<ee:transform doc:name="ingredient" doc:id="bf8f0ef4-9ff6-40d2-9669-443e3db7cb97">
				<ee:message>
					<ee:set-payload><![CDATA[%dw 2.0
output application/json
---
{
	message: "Please write some ingredient"
}]]></ee:set-payload>
				</ee:message>
			</ee:transform>
			<set-variable value="#[400]" doc:name="httpStatus" doc:id="584ad83d-35b9-4745-bb9c-9c5188a8d570" variableName="httpStatus" />
		</on-error-propagate>
	</error-handler>
	<error-handler name="globalErrorHandler" doc:id="1ad681d3-9b7d-4782-9d76-5ae737e77c17" >
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="760d5030-f836-4e4d-a94e-880a2071c7a4" type="APIKIT:BAD_REQUEST" >
			<ee:transform doc:name="Transform Message" doc:id="e60a38cd-e35e-47ba-925b-f469de025fce" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{message: "Bad request"}]]></ee:set-payload>
				</ee:message>
				<ee:variables >
					<ee:set-variable variableName="httpStatus" ><![CDATA[400]]></ee:set-variable>
				</ee:variables>
			</ee:transform>
		</on-error-propagate>
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="df4cb1d8-306e-4ef6-a435-358c75d27086" type="APIKIT:NOT_FOUND" >
			<ee:transform doc:name="Transform Message" doc:id="bf2dee66-6ac7-4e27-8f9e-56de275d8910" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{message: "Resource not found"}]]></ee:set-payload>
				</ee:message>
				<ee:variables >
					<ee:set-variable variableName="httpStatus" ><![CDATA[404]]></ee:set-variable>
				</ee:variables>
			</ee:transform>
		</on-error-propagate>
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="4f61d547-be5e-4548-8c6c-e9520f6a930e" type="APIKIT:METHOD_NOT_ALLOWED" >
			<ee:transform doc:name="Transform Message" doc:id="560ab284-f61a-4a45-89fc-60672ca2f726" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{message: "Method not allowed"}]]></ee:set-payload>
				</ee:message>
				<ee:variables >
					<ee:set-variable variableName="httpStatus" ><![CDATA[405]]></ee:set-variable>
				</ee:variables>
			</ee:transform>
		</on-error-propagate>
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="50eda36f-763a-4536-a73f-be2922516940" type="APIKIT:NOT_ACCEPTABLE" >
			<ee:transform doc:name="Transform Message" doc:id="cd15b14c-0807-4102-9a3b-6fd481ce5033" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{message: "Not acceptable"}]]></ee:set-payload>
				</ee:message>
				<ee:variables >
					<ee:set-variable variableName="httpStatus" ><![CDATA[406]]></ee:set-variable>
				</ee:variables>
			</ee:transform>
		</on-error-propagate>
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="3e41e910-1c9c-4e70-87a8-c88725c83ff6" type="APIKIT:UNSUPPORTED_MEDIA_TYPE" >
			<ee:transform doc:name="Transform Message" doc:id="d50f0674-68b9-40f3-a44f-f768684638b7" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{message: "Unsupported media type"}]]></ee:set-payload>
				</ee:message>
				<ee:variables >
					<ee:set-variable variableName="httpStatus" ><![CDATA[415]]></ee:set-variable>
				</ee:variables>
			</ee:transform>
		</on-error-propagate>
		<on-error-propagate enableNotifications="true" logException="true" doc:name="On Error Propagate" doc:id="6fde43f1-4145-4cc3-a371-3671c719be38" type="APIKIT:NOT_IMPLEMENTED" >
			<ee:transform doc:name="Transform Message" doc:id="5112dc1a-071d-462f-a702-53ad63ad4eb8" >
				<ee:message >
					<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{message: "Not Implemented"}]]></ee:set-payload>
				</ee:message>
				<ee:variables >
					<ee:set-variable variableName="httpStatus" ><![CDATA[501]]></ee:set-variable>
				</ee:variables>
			</ee:transform>
		</on-error-propagate>
	</error-handler>


</mule>
